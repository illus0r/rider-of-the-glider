{"id":"index.js","dependencies":[{"name":"../regl","loc":{"line":8,"column":21},"parent":"/Users/z/Dropbox/prj/shaders/rider-of-the-glider/regl/index.js","resolved":"/Users/z/Dropbox/prj/shaders/rider-of-the-glider/regl/index.js"}],"generated":{"js":"/*\n  tags: fbo, basic\n\n  <p>This example implements the game of life in regl.</p>\n\n */\nvar regl = require('../regl')();\n\nvar RADIUS = 512;\nvar INITIAL_CONDITIONS = Array(RADIUS * RADIUS * 4).fill(0).map(function () {\n  return Math.random() > 0.9 ? 255 : 0;\n});\nvar state = Array(2).fill().map(function () {\n  return regl.framebuffer({\n    color: regl.texture({\n      radius: RADIUS,\n      data: INITIAL_CONDITIONS,\n      wrap: 'repeat'\n    }),\n    depthStencil: false\n  });\n});\nvar updateLife = regl({\n  frag: \"\\n  precision mediump float;\\n  uniform sampler2D prevState;\\n  varying vec2 uv;\\n  void main() {\\n    float n = 0.0;\\n    for(int dx=-1; dx<=1; ++dx)\\n    for(int dy=-1; dy<=1; ++dy) {\\n      n += texture2D(prevState, uv+vec2(dx,dy)/float(\".concat(RADIUS, \")).r;\\n    }\\n    float s = texture2D(prevState, uv).r;\\n    if(n > 3.0+s || n < 3.0) {\\n      gl_FragColor = vec4(0,0,0,1);\\n    } else {\\n      gl_FragColor = vec4(1,1,1,1);\\n    }\\n  }\"),\n  framebuffer: function framebuffer(_ref) {\n    var tick = _ref.tick;\n    return state[(tick + 1) % 2];\n  }\n});\nvar setupQuad = regl({\n  frag: \"\\n  precision mediump float;\\n  uniform sampler2D prevState;\\n  varying vec2 uv;\\n  void main() {\\n    float state = texture2D(prevState, uv).r;\\n    gl_FragColor = vec4(vec3(state), 1);\\n  }\",\n  vert: \"\\n  precision mediump float;\\n  attribute vec2 position;\\n  varying vec2 uv;\\n  void main() {\\n    uv = 0.5 * (position + 1.0);\\n    gl_Position = vec4(position, 0, 1);\\n  }\",\n  attributes: {\n    position: [-4, -4, 4, -4, 0, 4]\n  },\n  uniforms: {\n    prevState: function prevState(_ref2) {\n      var tick = _ref2.tick;\n      return state[tick % 2];\n    }\n  },\n  depth: {\n    enable: false\n  },\n  count: 3\n});\nregl.frame(function () {\n  setupQuad(function () {\n    regl.draw();\n    updateLife();\n  });\n});"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":1,"column":0},"source":"index.js","original":{"line":1,"column":0}},{"generated":{"line":2,"column":0},"source":"index.js","original":{"line":2,"column":0}},{"generated":{"line":3,"column":0},"source":"index.js","original":{"line":3,"column":0}},{"generated":{"line":4,"column":0},"source":"index.js","original":{"line":4,"column":0}},{"generated":{"line":5,"column":0},"source":"index.js","original":{"line":5,"column":0}},{"generated":{"line":6,"column":0},"source":"index.js","original":{"line":6,"column":0}},{"generated":{"line":7,"column":0},"source":"index.js","original":{"line":8,"column":0}},{"name":"regl","generated":{"line":7,"column":4},"source":"index.js","original":{"line":8,"column":6}},{"generated":{"line":7,"column":8},"source":"index.js","original":{"line":8,"column":10}},{"name":"require","generated":{"line":7,"column":11},"source":"index.js","original":{"line":8,"column":13}},{"generated":{"line":7,"column":18},"source":"index.js","original":{"line":8,"column":20}},{"generated":{"line":7,"column":19},"source":"index.js","original":{"line":8,"column":21}},{"generated":{"line":7,"column":28},"source":"index.js","original":{"line":8,"column":20}},{"generated":{"line":7,"column":29},"source":"index.js","original":{"line":8,"column":13}},{"generated":{"line":7,"column":31},"source":"index.js","original":{"line":8,"column":0}},{"generated":{"line":9,"column":0},"source":"index.js","original":{"line":10,"column":0}},{"name":"RADIUS","generated":{"line":9,"column":4},"source":"index.js","original":{"line":10,"column":6}},{"generated":{"line":9,"column":10},"source":"index.js","original":{"line":10,"column":12}},{"generated":{"line":9,"column":13},"source":"index.js","original":{"line":10,"column":15}},{"generated":{"line":9,"column":16},"source":"index.js","original":{"line":10,"column":0}},{"generated":{"line":10,"column":0},"source":"index.js","original":{"line":11,"column":0}},{"name":"INITIAL_CONDITIONS","generated":{"line":10,"column":4},"source":"index.js","original":{"line":11,"column":6}},{"generated":{"line":10,"column":22},"source":"index.js","original":{"line":11,"column":24}},{"name":"Array","generated":{"line":10,"column":25},"source":"index.js","original":{"line":11,"column":28}},{"generated":{"line":10,"column":30},"source":"index.js","original":{"line":11,"column":33}},{"name":"RADIUS","generated":{"line":10,"column":31},"source":"index.js","original":{"line":11,"column":34}},{"generated":{"line":10,"column":37},"source":"index.js","original":{"line":11,"column":40}},{"name":"RADIUS","generated":{"line":10,"column":40},"source":"index.js","original":{"line":11,"column":43}},{"generated":{"line":10,"column":46},"source":"index.js","original":{"line":11,"column":34}},{"generated":{"line":10,"column":49},"source":"index.js","original":{"line":11,"column":52}},{"generated":{"line":10,"column":50},"source":"index.js","original":{"line":11,"column":33}},{"generated":{"line":10,"column":51},"source":"index.js","original":{"line":11,"column":27}},{"name":"fill","generated":{"line":10,"column":52},"source":"index.js","original":{"line":11,"column":56}},{"generated":{"line":10,"column":56},"source":"index.js","original":{"line":11,"column":27}},{"generated":{"line":10,"column":57},"source":"index.js","original":{"line":11,"column":61}},{"generated":{"line":10,"column":58},"source":"index.js","original":{"line":11,"column":27}},{"name":"map","generated":{"line":10,"column":60},"source":"index.js","original":{"line":11,"column":64}},{"generated":{"line":10,"column":63},"source":"index.js","original":{"line":11,"column":27}},{"generated":{"line":10,"column":64},"source":"index.js","original":{"line":12,"column":2}},{"generated":{"line":11,"column":0},"source":"index.js","original":{"line":12,"column":2}},{"name":"Math","generated":{"line":11,"column":9},"source":"index.js","original":{"line":12,"column":8}},{"generated":{"line":11,"column":13},"source":"index.js","original":{"line":12,"column":12}},{"name":"random","generated":{"line":11,"column":14},"source":"index.js","original":{"line":12,"column":13}},{"generated":{"line":11,"column":20},"source":"index.js","original":{"line":12,"column":8}},{"generated":{"line":11,"column":25},"source":"index.js","original":{"line":12,"column":24}},{"generated":{"line":11,"column":28},"source":"index.js","original":{"line":12,"column":8}},{"generated":{"line":11,"column":31},"source":"index.js","original":{"line":12,"column":30}},{"generated":{"line":11,"column":34},"source":"index.js","original":{"line":12,"column":8}},{"generated":{"line":11,"column":37},"source":"index.js","original":{"line":12,"column":36}},{"generated":{"line":11,"column":38},"source":"index.js","original":{"line":12,"column":2}},{"generated":{"line":12,"column":0},"source":"index.js","original":{"line":12,"column":2}},{"generated":{"line":12,"column":1},"source":"index.js","original":{"line":11,"column":27}},{"generated":{"line":12,"column":2},"source":"index.js","original":{"line":11,"column":0}},{"generated":{"line":13,"column":0},"source":"index.js","original":{"line":14,"column":0}},{"name":"state","generated":{"line":13,"column":4},"source":"index.js","original":{"line":14,"column":6}},{"generated":{"line":13,"column":9},"source":"index.js","original":{"line":14,"column":11}},{"name":"Array","generated":{"line":13,"column":12},"source":"index.js","original":{"line":14,"column":15}},{"generated":{"line":13,"column":17},"source":"index.js","original":{"line":14,"column":20}},{"generated":{"line":13,"column":18},"source":"index.js","original":{"line":14,"column":21}},{"generated":{"line":13,"column":19},"source":"index.js","original":{"line":14,"column":20}},{"generated":{"line":13,"column":20},"source":"index.js","original":{"line":14,"column":14}},{"name":"fill","generated":{"line":13,"column":21},"source":"index.js","original":{"line":14,"column":25}},{"generated":{"line":13,"column":25},"source":"index.js","original":{"line":14,"column":14}},{"name":"map","generated":{"line":13,"column":28},"source":"index.js","original":{"line":14,"column":32}},{"generated":{"line":13,"column":31},"source":"index.js","original":{"line":14,"column":14}},{"generated":{"line":13,"column":32},"source":"index.js","original":{"line":14,"column":36}},{"generated":{"line":14,"column":0},"source":"index.js","original":{"line":14,"column":36}},{"name":"regl","generated":{"line":14,"column":9},"source":"index.js","original":{"line":15,"column":2}},{"generated":{"line":14,"column":13},"source":"index.js","original":{"line":15,"column":6}},{"name":"framebuffer","generated":{"line":14,"column":14},"source":"index.js","original":{"line":15,"column":7}},{"generated":{"line":14,"column":25},"source":"index.js","original":{"line":15,"column":2}},{"generated":{"line":14,"column":26},"source":"index.js","original":{"line":15,"column":19}},{"name":"color","generated":{"line":15,"column":0},"source":"index.js","original":{"line":16,"column":4}},{"name":"color","generated":{"line":15,"column":4},"source":"index.js","original":{"line":16,"column":4}},{"generated":{"line":15,"column":9},"source":"index.js","original":{"line":16,"column":9}},{"name":"regl","generated":{"line":15,"column":11},"source":"index.js","original":{"line":16,"column":11}},{"generated":{"line":15,"column":15},"source":"index.js","original":{"line":16,"column":15}},{"name":"texture","generated":{"line":15,"column":16},"source":"index.js","original":{"line":16,"column":16}},{"generated":{"line":15,"column":23},"source":"index.js","original":{"line":16,"column":11}},{"generated":{"line":15,"column":24},"source":"index.js","original":{"line":16,"column":24}},{"name":"radius","generated":{"line":16,"column":0},"source":"index.js","original":{"line":17,"column":6}},{"name":"radius","generated":{"line":16,"column":6},"source":"index.js","original":{"line":17,"column":6}},{"generated":{"line":16,"column":12},"source":"index.js","original":{"line":17,"column":12}},{"name":"RADIUS","generated":{"line":16,"column":14},"source":"index.js","original":{"line":17,"column":14}},{"generated":{"line":16,"column":20},"source":"index.js","original":{"line":16,"column":24}},{"name":"data","generated":{"line":17,"column":0},"source":"index.js","original":{"line":18,"column":6}},{"name":"data","generated":{"line":17,"column":6},"source":"index.js","original":{"line":18,"column":6}},{"generated":{"line":17,"column":10},"source":"index.js","original":{"line":18,"column":10}},{"name":"INITIAL_CONDITIONS","generated":{"line":17,"column":12},"source":"index.js","original":{"line":18,"column":12}},{"generated":{"line":17,"column":30},"source":"index.js","original":{"line":16,"column":24}},{"name":"wrap","generated":{"line":18,"column":0},"source":"index.js","original":{"line":19,"column":6}},{"name":"wrap","generated":{"line":18,"column":6},"source":"index.js","original":{"line":19,"column":6}},{"generated":{"line":18,"column":10},"source":"index.js","original":{"line":19,"column":10}},{"generated":{"line":18,"column":12},"source":"index.js","original":{"line":19,"column":12}},{"generated":{"line":19,"column":0},"source":"index.js","original":{"line":16,"column":24}},{"generated":{"line":19,"column":5},"source":"index.js","original":{"line":16,"column":11}},{"generated":{"line":19,"column":6},"source":"index.js","original":{"line":15,"column":19}},{"name":"depthStencil","generated":{"line":20,"column":0},"source":"index.js","original":{"line":21,"column":4}},{"name":"depthStencil","generated":{"line":20,"column":4},"source":"index.js","original":{"line":21,"column":4}},{"generated":{"line":20,"column":16},"source":"index.js","original":{"line":21,"column":16}},{"generated":{"line":20,"column":18},"source":"index.js","original":{"line":21,"column":18}},{"generated":{"line":21,"column":0},"source":"index.js","original":{"line":15,"column":19}},{"generated":{"line":21,"column":3},"source":"index.js","original":{"line":15,"column":2}},{"generated":{"line":21,"column":4},"source":"index.js","original":{"line":14,"column":36}},{"generated":{"line":22,"column":0},"source":"index.js","original":{"line":14,"column":36}},{"generated":{"line":22,"column":1},"source":"index.js","original":{"line":14,"column":14}},{"generated":{"line":22,"column":2},"source":"index.js","original":{"line":14,"column":0}},{"generated":{"line":23,"column":0},"source":"index.js","original":{"line":24,"column":0}},{"name":"updateLife","generated":{"line":23,"column":4},"source":"index.js","original":{"line":24,"column":6}},{"generated":{"line":23,"column":14},"source":"index.js","original":{"line":24,"column":16}},{"name":"regl","generated":{"line":23,"column":17},"source":"index.js","original":{"line":24,"column":19}},{"generated":{"line":23,"column":21},"source":"index.js","original":{"line":24,"column":23}},{"generated":{"line":23,"column":22},"source":"index.js","original":{"line":24,"column":24}},{"name":"frag","generated":{"line":24,"column":0},"source":"index.js","original":{"line":25,"column":2}},{"name":"frag","generated":{"line":24,"column":2},"source":"index.js","original":{"line":25,"column":2}},{"generated":{"line":24,"column":6},"source":"index.js","original":{"line":25,"column":6}},{"name":"RADIUS","generated":{"line":24,"column":258},"source":"index.js","original":{"line":33,"column":55}},{"generated":{"line":24,"column":264},"source":"index.js","original":{"line":25,"column":6}},{"generated":{"line":24,"column":456},"source":"index.js","original":{"line":24,"column":24}},{"name":"framebuffer","generated":{"line":25,"column":0},"source":"index.js","original":{"line":43,"column":2}},{"name":"framebuffer","generated":{"line":25,"column":2},"source":"index.js","original":{"line":43,"column":2}},{"generated":{"line":25,"column":13},"source":"index.js","original":{"line":43,"column":13}},{"generated":{"line":25,"column":15},"source":"index.js","original":{"line":43,"column":15}},{"generated":{"line":26,"column":0},"source":"index.js","original":{"line":43,"column":15}},{"name":"tick","generated":{"line":26,"column":8},"source":"index.js","original":{"line":43,"column":17}},{"generated":{"line":26,"column":12},"source":"index.js","original":{"line":43,"column":15}},{"name":"tick","generated":{"line":26,"column":20},"source":"index.js","original":{"line":43,"column":17}},{"generated":{"line":26,"column":24},"source":"index.js","original":{"line":43,"column":15}},{"generated":{"line":27,"column":0},"source":"index.js","original":{"line":43,"column":15}},{"name":"state","generated":{"line":27,"column":11},"source":"index.js","original":{"line":43,"column":27}},{"generated":{"line":27,"column":16},"source":"index.js","original":{"line":43,"column":32}},{"generated":{"line":27,"column":17},"source":"index.js","original":{"line":43,"column":33}},{"name":"tick","generated":{"line":27,"column":18},"source":"index.js","original":{"line":43,"column":34}},{"generated":{"line":27,"column":22},"source":"index.js","original":{"line":43,"column":38}},{"generated":{"line":27,"column":25},"source":"index.js","original":{"line":43,"column":41}},{"generated":{"line":27,"column":26},"source":"index.js","original":{"line":43,"column":33}},{"generated":{"line":27,"column":30},"source":"index.js","original":{"line":43,"column":46}},{"generated":{"line":27,"column":31},"source":"index.js","original":{"line":43,"column":32}},{"generated":{"line":27,"column":32},"source":"index.js","original":{"line":43,"column":15}},{"generated":{"line":28,"column":0},"source":"index.js","original":{"line":43,"column":15}},{"generated":{"line":29,"column":0},"source":"index.js","original":{"line":24,"column":24}},{"generated":{"line":29,"column":1},"source":"index.js","original":{"line":24,"column":23}},{"generated":{"line":29,"column":2},"source":"index.js","original":{"line":24,"column":0}},{"generated":{"line":30,"column":0},"source":"index.js","original":{"line":46,"column":0}},{"name":"setupQuad","generated":{"line":30,"column":4},"source":"index.js","original":{"line":46,"column":6}},{"generated":{"line":30,"column":13},"source":"index.js","original":{"line":46,"column":15}},{"name":"regl","generated":{"line":30,"column":16},"source":"index.js","original":{"line":46,"column":18}},{"generated":{"line":30,"column":20},"source":"index.js","original":{"line":46,"column":22}},{"generated":{"line":30,"column":21},"source":"index.js","original":{"line":46,"column":23}},{"name":"frag","generated":{"line":31,"column":0},"source":"index.js","original":{"line":47,"column":2}},{"name":"frag","generated":{"line":31,"column":2},"source":"index.js","original":{"line":47,"column":2}},{"generated":{"line":31,"column":6},"source":"index.js","original":{"line":47,"column":6}},{"generated":{"line":31,"column":201},"source":"index.js","original":{"line":46,"column":23}},{"name":"vert","generated":{"line":32,"column":0},"source":"index.js","original":{"line":56,"column":2}},{"name":"vert","generated":{"line":32,"column":2},"source":"index.js","original":{"line":56,"column":2}},{"generated":{"line":32,"column":6},"source":"index.js","original":{"line":56,"column":6}},{"generated":{"line":32,"column":183},"source":"index.js","original":{"line":46,"column":23}},{"name":"attributes","generated":{"line":33,"column":0},"source":"index.js","original":{"line":65,"column":2}},{"name":"attributes","generated":{"line":33,"column":2},"source":"index.js","original":{"line":65,"column":2}},{"generated":{"line":33,"column":12},"source":"index.js","original":{"line":65,"column":12}},{"generated":{"line":33,"column":14},"source":"index.js","original":{"line":65,"column":14}},{"name":"position","generated":{"line":34,"column":0},"source":"index.js","original":{"line":66,"column":4}},{"name":"position","generated":{"line":34,"column":4},"source":"index.js","original":{"line":66,"column":4}},{"generated":{"line":34,"column":12},"source":"index.js","original":{"line":66,"column":12}},{"generated":{"line":34,"column":14},"source":"index.js","original":{"line":66,"column":14}},{"generated":{"line":34,"column":15},"source":"index.js","original":{"line":66,"column":16}},{"generated":{"line":34,"column":16},"source":"index.js","original":{"line":66,"column":17}},{"generated":{"line":34,"column":17},"source":"index.js","original":{"line":66,"column":14}},{"generated":{"line":34,"column":19},"source":"index.js","original":{"line":66,"column":20}},{"generated":{"line":34,"column":20},"source":"index.js","original":{"line":66,"column":21}},{"generated":{"line":34,"column":21},"source":"index.js","original":{"line":66,"column":14}},{"generated":{"line":34,"column":23},"source":"index.js","original":{"line":66,"column":24}},{"generated":{"line":34,"column":24},"source":"index.js","original":{"line":66,"column":14}},{"generated":{"line":34,"column":26},"source":"index.js","original":{"line":66,"column":27}},{"generated":{"line":34,"column":27},"source":"index.js","original":{"line":66,"column":28}},{"generated":{"line":34,"column":28},"source":"index.js","original":{"line":66,"column":14}},{"generated":{"line":34,"column":30},"source":"index.js","original":{"line":66,"column":31}},{"generated":{"line":34,"column":31},"source":"index.js","original":{"line":66,"column":14}},{"generated":{"line":34,"column":33},"source":"index.js","original":{"line":66,"column":34}},{"generated":{"line":34,"column":34},"source":"index.js","original":{"line":66,"column":14}},{"generated":{"line":35,"column":0},"source":"index.js","original":{"line":65,"column":14}},{"generated":{"line":35,"column":3},"source":"index.js","original":{"line":46,"column":23}},{"name":"uniforms","generated":{"line":36,"column":0},"source":"index.js","original":{"line":69,"column":2}},{"name":"uniforms","generated":{"line":36,"column":2},"source":"index.js","original":{"line":69,"column":2}},{"generated":{"line":36,"column":10},"source":"index.js","original":{"line":69,"column":10}},{"generated":{"line":36,"column":12},"source":"index.js","original":{"line":69,"column":12}},{"name":"prevState","generated":{"line":37,"column":0},"source":"index.js","original":{"line":70,"column":4}},{"name":"prevState","generated":{"line":37,"column":4},"source":"index.js","original":{"line":70,"column":4}},{"generated":{"line":37,"column":13},"source":"index.js","original":{"line":70,"column":13}},{"generated":{"line":37,"column":15},"source":"index.js","original":{"line":70,"column":15}},{"generated":{"line":38,"column":0},"source":"index.js","original":{"line":70,"column":15}},{"name":"tick","generated":{"line":38,"column":10},"source":"index.js","original":{"line":70,"column":17}},{"generated":{"line":38,"column":14},"source":"index.js","original":{"line":70,"column":15}},{"name":"tick","generated":{"line":38,"column":23},"source":"index.js","original":{"line":70,"column":17}},{"generated":{"line":38,"column":27},"source":"index.js","original":{"line":70,"column":15}},{"generated":{"line":39,"column":0},"source":"index.js","original":{"line":70,"column":15}},{"name":"state","generated":{"line":39,"column":13},"source":"index.js","original":{"line":70,"column":27}},{"generated":{"line":39,"column":18},"source":"index.js","original":{"line":70,"column":32}},{"name":"tick","generated":{"line":39,"column":19},"source":"index.js","original":{"line":70,"column":33}},{"generated":{"line":39,"column":23},"source":"index.js","original":{"line":70,"column":37}},{"generated":{"line":39,"column":26},"source":"index.js","original":{"line":70,"column":40}},{"generated":{"line":39,"column":27},"source":"index.js","original":{"line":70,"column":32}},{"generated":{"line":39,"column":28},"source":"index.js","original":{"line":70,"column":15}},{"generated":{"line":40,"column":0},"source":"index.js","original":{"line":70,"column":15}},{"generated":{"line":41,"column":0},"source":"index.js","original":{"line":69,"column":12}},{"generated":{"line":41,"column":3},"source":"index.js","original":{"line":46,"column":23}},{"name":"depth","generated":{"line":42,"column":0},"source":"index.js","original":{"line":73,"column":2}},{"name":"depth","generated":{"line":42,"column":2},"source":"index.js","original":{"line":73,"column":2}},{"generated":{"line":42,"column":7},"source":"index.js","original":{"line":73,"column":7}},{"generated":{"line":42,"column":9},"source":"index.js","original":{"line":73,"column":9}},{"name":"enable","generated":{"line":43,"column":0},"source":"index.js","original":{"line":73,"column":11}},{"name":"enable","generated":{"line":43,"column":4},"source":"index.js","original":{"line":73,"column":11}},{"generated":{"line":43,"column":10},"source":"index.js","original":{"line":73,"column":17}},{"generated":{"line":43,"column":12},"source":"index.js","original":{"line":73,"column":19}},{"generated":{"line":44,"column":0},"source":"index.js","original":{"line":73,"column":9}},{"generated":{"line":44,"column":3},"source":"index.js","original":{"line":46,"column":23}},{"name":"count","generated":{"line":45,"column":0},"source":"index.js","original":{"line":75,"column":2}},{"name":"count","generated":{"line":45,"column":2},"source":"index.js","original":{"line":75,"column":2}},{"generated":{"line":45,"column":7},"source":"index.js","original":{"line":75,"column":7}},{"generated":{"line":45,"column":9},"source":"index.js","original":{"line":75,"column":9}},{"generated":{"line":46,"column":0},"source":"index.js","original":{"line":46,"column":23}},{"generated":{"line":46,"column":1},"source":"index.js","original":{"line":46,"column":22}},{"generated":{"line":46,"column":2},"source":"index.js","original":{"line":46,"column":0}},{"name":"regl","generated":{"line":47,"column":0},"source":"index.js","original":{"line":78,"column":0}},{"generated":{"line":47,"column":4},"source":"index.js","original":{"line":78,"column":4}},{"name":"frame","generated":{"line":47,"column":5},"source":"index.js","original":{"line":78,"column":5}},{"generated":{"line":47,"column":10},"source":"index.js","original":{"line":78,"column":0}},{"generated":{"line":47,"column":11},"source":"index.js","original":{"line":78,"column":11}},{"generated":{"line":47,"column":23},"source":"index.js","original":{"line":78,"column":17}},{"name":"setupQuad","generated":{"line":48,"column":0},"source":"index.js","original":{"line":79,"column":2}},{"name":"setupQuad","generated":{"line":48,"column":2},"source":"index.js","original":{"line":79,"column":2}},{"generated":{"line":48,"column":11},"source":"index.js","original":{"line":79,"column":11}},{"generated":{"line":48,"column":12},"source":"index.js","original":{"line":79,"column":12}},{"generated":{"line":48,"column":24},"source":"index.js","original":{"line":79,"column":18}},{"name":"regl","generated":{"line":49,"column":0},"source":"index.js","original":{"line":80,"column":4}},{"name":"regl","generated":{"line":49,"column":4},"source":"index.js","original":{"line":80,"column":4}},{"generated":{"line":49,"column":8},"source":"index.js","original":{"line":80,"column":8}},{"name":"draw","generated":{"line":49,"column":9},"source":"index.js","original":{"line":80,"column":9}},{"generated":{"line":49,"column":13},"source":"index.js","original":{"line":80,"column":4}},{"name":"updateLife","generated":{"line":50,"column":0},"source":"index.js","original":{"line":81,"column":4}},{"name":"updateLife","generated":{"line":50,"column":4},"source":"index.js","original":{"line":81,"column":4}},{"generated":{"line":50,"column":14},"source":"index.js","original":{"line":81,"column":14}},{"generated":{"line":51,"column":0},"source":"index.js","original":{"line":82,"column":3}},{"generated":{"line":51,"column":3},"source":"index.js","original":{"line":79,"column":11}},{"generated":{"line":51,"column":4},"source":"index.js","original":{"line":79,"column":2}},{"generated":{"line":52,"column":0},"source":"index.js","original":{"line":83,"column":1}},{"generated":{"line":52,"column":1},"source":"index.js","original":{"line":78,"column":0}}],"sources":{"index.js":"/*\n  tags: fbo, basic\n\n  <p>This example implements the game of life in regl.</p>\n\n */\n\nconst regl = require('../regl')()\n\nconst RADIUS = 512\nconst INITIAL_CONDITIONS = (Array(RADIUS * RADIUS * 4)).fill(0).map(\n  () => Math.random() > 0.9 ? 255 : 0)\n\nconst state = (Array(2)).fill().map(() =>\n  regl.framebuffer({\n    color: regl.texture({\n      radius: RADIUS,\n      data: INITIAL_CONDITIONS,\n      wrap: 'repeat'\n    }),\n    depthStencil: false\n  }))\n\nconst updateLife = regl({\n  frag: `\n  precision mediump float;\n  uniform sampler2D prevState;\n  varying vec2 uv;\n  void main() {\n    float n = 0.0;\n    for(int dx=-1; dx<=1; ++dx)\n    for(int dy=-1; dy<=1; ++dy) {\n      n += texture2D(prevState, uv+vec2(dx,dy)/float(${RADIUS})).r;\n    }\n    float s = texture2D(prevState, uv).r;\n    if(n > 3.0+s || n < 3.0) {\n      gl_FragColor = vec4(0,0,0,1);\n    } else {\n      gl_FragColor = vec4(1,1,1,1);\n    }\n  }`,\n\n  framebuffer: ({tick}) => state[(tick + 1) % 2]\n})\n\nconst setupQuad = regl({\n  frag: `\n  precision mediump float;\n  uniform sampler2D prevState;\n  varying vec2 uv;\n  void main() {\n    float state = texture2D(prevState, uv).r;\n    gl_FragColor = vec4(vec3(state), 1);\n  }`,\n\n  vert: `\n  precision mediump float;\n  attribute vec2 position;\n  varying vec2 uv;\n  void main() {\n    uv = 0.5 * (position + 1.0);\n    gl_Position = vec4(position, 0, 1);\n  }`,\n\n  attributes: {\n    position: [ -4, -4, 4, -4, 0, 4 ]\n  },\n\n  uniforms: {\n    prevState: ({tick}) => state[tick % 2]\n  },\n\n  depth: { enable: false },\n\n  count: 3\n})\n\nregl.frame(() => {\n  setupQuad(() => {\n    regl.draw()\n    updateLife()\n  })\n})\n"},"lineCount":null}},"error":null,"hash":"1f77982fed51a7e06b89059cc2a502ba","cacheData":{"env":{}}}